<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ae2f_docs: OpenCL C</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ae2f_docs
   </div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('df/d95/md_submod_2ae3f_2aclspv_2OpenCL.html','../../',''); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Search',true);
});
</script>
<div id="main-nav"></div>
<div id="container"><div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">OpenCL C </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md64"></a></p>
<blockquote class="doxtable">
<p><span class="tt">aclspv</span> uses dialect of OpenCL C. <br  />
 This page describes the specification of <span class="tt">aclspv</span>'s target language. </p>
</blockquote>
<h1 class="doxsection"><a class="anchor" id="autotoc_md65"></a>
Possible required capabilitties</h1>
<ul>
<li>Shader <blockquote class="doxtable">
<p>by default </p>
</blockquote>
</li>
</ul>
<ul>
<li>Address <blockquote class="doxtable">
<p>when <span class="tt">m_is_logical</span> is off </p>
</blockquote>
</li>
</ul>
<ul>
<li>VulkanMemoryModel <blockquote class="doxtable">
<p>when <span class="tt">m_is_for_gl</span> is off </p>
</blockquote>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
Possible required extensions</h1>
<ul>
<li>SPV_KHR_storage_buffer_storage_class <blockquote class="doxtable">
<p>by default: when bindable happens </p>
</blockquote>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
Entry Points</h1>
<blockquote class="doxtable">
<p>Either with <span class="tt">__kernel</span> or <span class="tt">kernel</span>, void returning function shall be entry point. <br  />
 </p>
</blockquote>
<ul>
<li>Execution model will be <span class="tt">GLCompute</span> by default.</li>
<li>Bindable object's bind numbers will be in order of its position, left to right, incremented.</li>
<li>Arguments which is not pointer or an array will be merged into one push constant with 32-bit aligned.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
Address Space Qualifiers</h1>
<p>__global <br  />
</p><ul>
<li>Has to be pointer and maps to <span class="tt">StorageBuffer</span> in Vulkan.</li>
<li>Bindable</li>
<li>Only for entry points</li>
<li>Scope will be modular</li>
<li>Must be used as an argument of <span class="tt">Entry Points</span>.</li>
<li>32-bit alignment is adviced.</li>
<li>always parsed as <span class="tt">u32*</span> (you will not care)</li>
</ul>
<p>__local <br  />
</p><ul>
<li>Has to be constant array and maps to <span class="tt">Workgroup</span> in Vulkan.</li>
<li>Not binded by host.</li>
<li>Its size could be <span class="tt">specified</span>. See <span class="tt">aclspv_set(set)</span>.</li>
<li>Scope will be modular</li>
<li>32-bit alignment is adviced.</li>
<li>always parsed as <span class="tt">u32[(COUNT + 3) / 4]</span> (you will not care)</li>
</ul>
<p>__constant <br  />
</p><ul>
<li>Maps to <span class="tt">Uniform</span> in Vulkan when used as an argument of <span class="tt">Entry Points</span>.<ul>
<li>Bindable</li>
<li>Scope will be modular</li>
<li>Only for entry points</li>
<li>128-bit alignment is adviced.</li>
<li>always parsed as <span class="tt">vec4*</span> (you will not care)</li>
</ul>
</li>
<li>Maps to constant literals in other use cases.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md69"></a>
Attributes</h1>
<blockquote class="doxtable">
<p>Some compiler attributes are available for vulkan-specific behaviours. <br  />
 Many will be annotation attribute so seem as <span class="tt">__attribute__((annotate("&lt;here&gt;")))</span> </p>
</blockquote>
<p>aclspv_specid(specid) <br  />
 </p><blockquote class="doxtable">
<p>Make constant value modifiable on vulkan pipeline. <br  />
 See <a href="https://docs.vulkan.org/refpages/latest/refpages/source/VkPipelineShaderStageCreateInfo.html">shader stage create info</a> <br  />
 </p>
</blockquote>
<ul>
<li>if <span class="tt">specid</span> is <span class="tt">0xFFFFFFFF</span>, it will be seen undefined.</li>
<li>Maps to <span class="tt">OpSpecConstant</span> with id of <span class="tt">specid</span></li>
<li>Result type must be scalar Integer or Floating point type.</li>
<li>Follows the first specified value &amp; data type.</li>
<li>Default value must be specified on first use.</li>
<li>Ignores the initialising value when specid is found.</li>
<li>Must be specified on use. E.g:<ul>
<li>Setting a size of an constant array</li>
<li>Initialising a non-constant variable</li>
</ul>
</li>
<li>Specifying on following condition will be ignored<ul>
<li>Enumerators</li>
<li>__constant variable</li>
<li>Constant literals</li>
</ul>
</li>
</ul>
<p>aclspv_set(set) <br  />
 </p><blockquote class="doxtable">
<p>Specifies the descriptor sets of bindable object. <br  />
 </p>
</blockquote>
<ul>
<li>Could be used on bindable objects.</li>
<li><span class="tt">set</span> must be a 32-bit integer as decimal</li>
</ul>
<p>aclspv_wrkgroup_size(x, y, z) <br  />
 </p><blockquote class="doxtable">
<p>Specifies the entry point's workgroup size. <br  />
 </p>
</blockquote>
<ul>
<li>Has <span class="tt">reqd_work_group_size(x, y, z)</span> as alternatives. <br  />
</li>
<li><span class="tt">x</span>, <span class="tt">y</span>, <span class="tt">z</span> must be a 32-bit integer as decimal literal.</li>
<li>This attribute could be ignored when its execution model is not either <span class="tt">Kernel</span> or <span class="tt">GLCompute</span>.</li>
</ul>
<p>aclspv_execmodel(model) <br  />
 </p><blockquote class="doxtable">
<p>Specifies the execution model of the entry point. <br  />
 Solution for other than <span class="tt">GLCompute</span>, <span class="tt">Fragment</span>, <span class="tt">Vertex</span> will not implicitly be developed. <br  />
 Solution for other than <span class="tt">Fragment</span>, <span class="tt">Vertex</span> will not be actively developed. <br  />
 </p>
</blockquote>
<ul>
<li><span class="tt">model</span> must be a 32-bit integer as decimal literal.</li>
<li>Possible inputs are defined as enum <span class="tt">SpvExecutionModel_</span> on spirv-header.</li>
<li>When not specified, defaults to <span class="tt">GLCompute</span>.</li>
</ul>
<p>aclspv_storage_class(class) <br  />
 </p><blockquote class="doxtable">
<p>Specifies the storage class for the target variable. <br  />
 </p>
</blockquote>
<ul>
<li><span class="tt">class</span> must be a 32-bit integer as decimal literal.</li>
<li>Possible inputs are defined as enum <span class="tt">SpvStorageClass_</span> on spirv-header.</li>
</ul>
<p>aclspv_location(location) </p><blockquote class="doxtable">
<p>Specifies the location of <span class="tt">input</span> or <span class="tt">output</span> <br  />
 </p>
</blockquote>
<ul>
<li>When not specified, every input our output's location will be 0.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md70"></a>
Restriction</h1>
<blockquote class="doxtable">
<p>Some statements / extensions may not be planned to be supported for now. </p>
</blockquote>
<ul>
<li><span class="tt">VK_KHR_relaxed_block_layout</span> behaviour (free alignment)</li>
<li>Non plain-old-data types</li>
<li><span class="tt">OpenCL</span> memory model</li>
<li><span class="tt">Simple</span> memory model </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
